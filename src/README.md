# 前端项目架构说明

## 项目结构

```
src/
├── api/           # API 接口定义
│   └── index.js   # 定义所有后端接口的地址和调用方法
├── utils/         # 工具函数模块
│   └── http.js    # HTTP 请求工具，处理所有网络请求
├── pages/         # 页面组件
│   └── home/      # 主页面
│       ├── index.jsx  # 主页面组件
│       └── index.css  # 主页面样式
```

## 技术架构

本项目采用了清晰的分层架构设计：

### 1. 表示层 (Presentation Layer)
- 位于 `pages/` 目录
- 负责页面渲染和用户交互
- 不直接处理 HTTP 请求，而是通过 API 模块获取数据
- 例如：`Home` 组件负责聊天界面的渲染和交互

### 2. 服务层 (Service Layer)
- 位于 `api/` 目录
- 定义与后端通信的接口和方法
- 封装业务逻辑，提供给表示层调用
- 不直接处理 HTTP 请求的技术细节，而是使用 HTTP 工具模块
- 例如：`sendMessageToAI` 函数负责发送消息给 AI 并获取回复

### 3. 数据访问层 (Data Access Layer)
- 位于 `utils/http.js`
- 处理所有 HTTP 请求的底层技术细节
- 提供通用的请求方法，如 `request`、`graphqlRequest`
- 统一处理请求和响应的格式化、错误处理等

## 数据流

1. 用户在页面上输入消息并点击发送
2. 页面组件调用 API 模块中的方法 (如 `sendMessageToAI`)
3. API 模块使用预定义的查询和端点，调用 HTTP 工具模块发送请求
4. HTTP 工具模块处理请求细节，发送到服务器并处理响应
5. 响应通过调用链返回到页面组件
6. 页面组件更新 UI 显示结果

## 优势

1. **关注点分离**：每一层只关注自己的职责
2. **可维护性**：修改接口地址或请求逻辑时，只需修改一处
3. **可测试性**：各模块职责清晰，易于单元测试
4. **可扩展性**：添加新接口或修改请求逻辑时，不影响其他部分 